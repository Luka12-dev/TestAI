:root{
  --bg: #000000;
  --bg-2: #060606;
  --card-bg: rgba(255,255,255,0.018);
  --glass-border: rgba(255,255,255,0.04);
  --muted: #9aa3ab;
  --text: #e9eef3;

  --accent: #00ffd0;
  --accent-2: #ff4da6;
  --accent-soft: rgba(0,255,208,0.06);

  --radius: 14px;
  --gap: 16px;
  --container-max: 980px;

  --shadow-sm: 0 8px 24px rgba(0,0,0,0.7);
  --shadow-md: 0 18px 48px rgba(0,0,0,0.85);

  --fast: 160ms;
  --med: 420ms;
  --long: 900ms;

  --btn-min-height: 48px;
  --input-height: 44px;
}

@media (prefers-reduced-motion: reduce){
  :root{ --fast:0ms; --med:0ms; --long:0ms; }
  *{ animation-duration:0ms !important; transition-duration:0ms !important; }
}

*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }
body{
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:
    radial-gradient(900px 340px at 10% 12%, rgba(0,255,208,0.02), transparent 6%),
    radial-gradient(600px 260px at 92% 86%, rgba(255,77,166,0.015), transparent 6%),
    linear-gradient(180deg, var(--bg), var(--bg-2));
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding:28px;
  min-height:100vh;
}

.container{
  width:100%;
  max-width:var(--container-max);
  display:flex;
  flex-direction:column;
  gap:20px;
  animation:fadeInUp var(--med) ease both;
}

.header{
  display:flex;
  flex-direction:column;
  gap:8px;
  padding:18px;
  border-radius:var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.014), rgba(255,255,255,0.006));
  border:1px solid var(--glass-border);
  box-shadow:var(--shadow-md);
  transform-origin:top center;
}
.header h1{
  font-size:1.6rem;
  letter-spacing:-0.02em;
  margin:0;
  font-weight:900;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:textShift 6s linear infinite;
}
.tagline{
  margin:0;
  color:var(--muted);
  font-size:0.95rem;
  font-weight:600;
  opacity:0.95;
}

.card{
  border-radius:var(--radius);
  padding:16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));
  border:1px solid var(--glass-border);
  box-shadow:var(--shadow-sm);
  transition: transform var(--med), box-shadow var(--med), border-color var(--med);
  animation:cardPop .5s cubic-bezier(.2,.9,.3,1) both;
}
.card:hover{ transform: translateY(-6px); box-shadow:var(--shadow-md); border-color:var(--accent-soft); }

.controls .row{
  display:flex;
  gap:12px;
  align-items:center;
  margin-top:12px;
  flex-wrap:wrap;
}
.controls label{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-width:170px;
  flex:1 1 220px;
  color:var(--muted);
  font-weight:700;
}
.controls input[type="number"]{
  height:var(--input-height);
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.03);
  background: linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.004));
  color:var(--text);
  outline:none;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6) inset;
  transition: box-shadow var(--fast), transform var(--fast), border-color var(--fast);
}
.controls input[type="number"]:focus{
  transform: translateY(-3px);
  border-color: rgba(0,255,208,0.10);
  box-shadow: 0 12px 36px rgba(0,0,0,0.7) inset, 0 0 14px rgba(0,255,208,0.04);
}

/* Actions */
.actions{
  display:flex;
  gap:12px;
  align-items:center;
  margin-top:14px;
  flex-wrap:wrap;
}
button{
  cursor:pointer;
  border:0;
  padding:12px 18px;
  min-height:var(--btn-min-height);
  border-radius:10px;
  font-weight:800;
  letter-spacing:0.02em;
  transition: transform var(--fast), box-shadow var(--fast), background var(--fast);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
#runBtn{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  color:#031614;
  box-shadow: 0 16px 48px rgba(0,0,0,0.8);
}
#exportBtn{
  background: transparent;
  color:var(--text);
  border:1px solid rgba(255,255,255,0.04);
  padding:10px 14px;
  min-height:44px;
}
button:hover{ transform: translateY(-4px); box-shadow: 0 22px 60px rgba(0,0,0,0.85); }
#exportBtn:hover{ box-shadow: 0 12px 34px rgba(0,0,0,0.7) }

.status{
  margin-left:auto;
  padding:8px 12px;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(0,255,208,0.06), rgba(255,77,166,0.03));
  color:var(--muted);
  font-weight:800;
  font-size:0.95rem;
  box-shadow: 0 8px 28px rgba(0,0,0,0.6);
  transition: transform var(--fast), opacity var(--fast);
}

.results{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.metrics{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.metrics .metric{
  min-width:160px;
  padding:12px;
  border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.004));
  border:1px solid rgba(255,255,255,0.01);
  color:var(--muted);
  font-weight:800;
  box-shadow: 0 8px 26px rgba(0,0,0,0.6);
  transition: transform var(--fast), box-shadow var(--fast), border-color var(--fast);
  animation:metricPop .45s cubic-bezier(.2,.9,.3,1) both;
}
.metrics .metric strong{ display:block; color:var(--text); font-size:1.1rem; margin-bottom:6px; }

canvas{
  width:100%;
  height:auto;
  display:block;
  border-radius:10px;
  background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.002));
  border:1px solid rgba(255,255,255,0.02);
  box-shadow: 0 12px 36px rgba(0,0,0,0.7);
  transition: transform var(--med), box-shadow var(--med);
}

.footer{
  padding:12px;
  text-align:center;
  color:var(--muted);
  font-size:0.9rem;
}

@media (max-width:900px){
  .controls .row{ gap:10px; }
  .controls label{ flex:1 1 140px; min-width:140px; }
  .metrics{ justify-content:center }
}

@keyframes fadeInUp{
  0%{ opacity:0; transform: translateY(10px) }
  100%{ opacity:1; transform:none }
}
@keyframes cardPop{
  0%{ opacity:0; transform: translateY(12px) scale(.996) }
  60%{ opacity:1; transform: translateY(-6px) scale(1.002) }
  100%{ transform:none }
}
@keyframes metricPop{
  0%{ opacity:0; transform: translateY(8px) scale(.995) }
  100%{ opacity:1; transform:none }
}
@keyframes textShift{
  0%{ background-position:0% 50% } 
  50%{ background-position:100% 50% }
  100%{ background-position:0% 50% }
}
@keyframes tempPulse{
  0%{ transform: scale(1) }
  50%{ transform: scale(1.02) }
  100%{ transform: scale(1) }
}

.card:hover, .metric:hover{ border-color: rgba(0,255,208,0.06); box-shadow: 0 30px 70px rgba(0,0,0,0.9) }

:focus{ outline:none; }
button:focus, input:focus, .metric:focus{ box-shadow: 0 0 0 6px rgba(0,255,208,0.05); border-radius:8px }

@keyframes pulseGlow{
  0%{ box-shadow: 0 6px 18px rgba(0,255,208,0.06) }
  50%{ box-shadow: 0 18px 48px rgba(0,255,208,0.12); transform: translateY(-3px) }
  100%{ box-shadow: 0 6px 18px rgba(0,255,208,0.06); transform:none }
}
.status.pulse{ animation: pulseGlow 1.2s ease-in-out infinite; }

.text-muted{ color:var(--muted); }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.actions{ display:flex; gap:12px; align-items:center; }
